¹2
KD:\Programfiles\Dotnet\demoMS\trainee\Controllers\TraineeModelController.cs
	namespace

 	
trainee


 
.

 
Controllers

 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 
class 
TraineeController %
:& '
ControllerBase( 6
{ 
private 
readonly 
TraineeContext *
_context+ 3
;3 4
public 
TraineeController #
(# $
TraineeContext$ 2
context3 :
): ;
{ 
_context 
= 
context !
;! "
} 
[ 
HttpGet 
] 
public 
async 
Task 
< 
ActionResult )
<) *
IEnumerable* 5
<5 6
TraineeModel6 B
>B C
>C D
>D E

GettraineeF P
(P Q
)Q R
{ 
return 
await 
_context $
.$ %
trainee% ,
., -
ToListAsync- 8
(8 9
)9 :
;: ;
} 
[   
HttpGet   
(   
$str   
)   
]   
public!! 
async!! 
Task!! 
<!! 
ActionResult!! )
<!!) *
TraineeModel!!* 6
>!!6 7
>!!7 8

Gettrainee!!9 C
(!!C D
string!!D J
id!!K M
)!!M N
{"" 
var## 
trainee## 
=## 
await## "
_context### +
.##+ ,
trainee##, 3
.##3 4
	FindAsync##4 =
(##= >
id##> @
)##@ A
;##A B
if%% 
(%% 
trainee%% 
==%% 
null%% "
)%%" #
{&& 
return'' 
NotFound'' "
(''" #
)''# $
;''$ %
}(( 
return** 
trainee** 
;** 
}++ 
[.. 
HttpPut.. 
(.. 
$str.. 
).. 
].. 
public// 
async// 
Task// 
<// 
IActionResult// *
>//* +

Puttrainee//, 6
(//6 7
string//7 =
id//> @
,//@ A
TraineeModel//B N
trainee//O V
)//V W
{00 
if11 
(11 
id11 
!=11 
trainee11  
.11  !

Employeeid11! +
)11+ ,
{22 
return33 

BadRequest33 $
(33$ %
)33% &
;33& '
}44 
_context66 
.66 
Entry66 
(66 
trainee66 %
)66% &
.66& '
State66' ,
=66- .
EntityState66/ :
.66: ;
Modified66; C
;66C D
try88 
{99 
await:: 
_context:: !
.::! "
SaveChangesAsync::" 2
(::2 3
)::3 4
;::4 5
};; 
catch<< 
(<< (
DbUpdateConcurrencyException<< 2
)<<2 3
{== 
if>> 
(>> 
!>> 
traineeExists>> %
(>>% &
id>>& (
)>>( )
)>>) *
{?? 
return@@ 
NotFound@@ &
(@@& '
)@@' (
;@@( )
}AA 
elseBB 
{CC 
throwDD 
;DD 
}EE 
}FF 
returnHH 
	NoContentHH 
(HH  
)HH  !
;HH! "
}II 
[LL 
HttpPostLL 
]LL 
publicMM 
asyncMM 
TaskMM 
<MM 
ActionResultMM )
<MM) *
TraineeModelMM* 6
>MM6 7
>MM7 8
PosttraineeMM9 D
(MMD E
TraineeModelMME Q
traineeMMR Y
)MMY Z
{NN 
_contextOO 
.OO 
traineeOO 
.OO  
AddOO  #
(OO# $
traineeOO$ +
)OO+ ,
;OO, -
awaitPP 
_contextPP 
.PP 
SaveChangesAsyncPP .
(PP. /
)PP/ 0
;PP0 1
returnRR 
CreatedAtActionRR %
(RR% &
nameofRR& ,
(RR, -

GettraineeRR- 7
)RR7 8
,RR8 9
newRR: =
{RR> ?
idRR@ B
=RRC D
traineeRRE L
.RRL M

EmployeeidRRM W
}RRX Y
,RRY Z
traineeRR[ b
)RRb c
;RRc d
}SS 
[VV 

HttpDeleteVV 
(VV 
$strVV 
)VV 
]VV 
publicWW 
asyncWW 
TaskWW 
<WW 
IActionResultWW *
>WW* +
DeletetraineeWW, 9
(WW9 :
stringWW: @
idWWA C
)WWC D
{XX 
varYY 
traineeYY 
=YY 
awaitYY "
_contextYY# +
.YY+ ,
traineeYY, 3
.YY3 4
	FindAsyncYY4 =
(YY= >
idYY> @
)YY@ A
;YYA B
ifZZ 
(ZZ 
traineeZZ 
==ZZ 
nullZZ "
)ZZ" #
{[[ 
return\\ 
NotFound\\ "
(\\" #
)\\# $
;\\$ %
}]] 
_context__ 
.__ 
trainee__ 
.__  
Remove__  &
(__& '
trainee__' .
)__. /
;__/ 0
await`` 
_context`` 
.`` 
SaveChangesAsync`` .
(``. /
)``/ 0
;``0 1
returnbb 
	NoContentbb 
(bb  
)bb  !
;bb! "
}cc 
privateee 
boolee 
traineeExistsee %
(ee% &
stringee& ,
idee- /
)ee/ 0
{ff 
returngg 
_contextgg 
.gg 
traineegg &
.gg& '
Anygg' *
(gg* +
egg+ ,
=>gg- /
egg0 1
.gg1 2

Employeeidgg2 <
==gg< >
idgg> @
)gg@ A
;ggA B
}hh 
}ii 
}jj Ü
JD:\Programfiles\Dotnet\demoMS\trainee\Migrations\20231222110439_trainee.cs
	namespace 	
trainee
 
. 

Migrations 
{ 
public 

partial 
class 
trainee  
:! "
	Migration# ,
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 

Employeeid 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< I
,I J
nullableK S
:S T
falseU Z
)Z [
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
EmployeeName  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> H
,H I
nullableJ R
:R S
falseT Y
)Y Z
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
EmployeeSalary "
=# $
table% *
.* +
Column+ 1
<1 2
decimal2 9
>9 :
(: ;
type; ?
:? @
$strA Q
,Q R
nullableS [
:[ \
false] b
)b c
,c d
EmployeeDesignation '
=( )
table* /
./ 0
Column0 6
<6 7
string7 =
>= >
(> ?
type? C
:C D
$strE O
,O P
nullableQ Y
:Y Z
false[ `
)` a
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
EmployeeFathername &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
type> B
:B C
$strD N
,N O
nullableP X
:X Y
falseZ _
)_ `
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 1
,  1 2
x  3 4
=>  5 7
x  8 9
.  9 :

Employeeid  : D
)  D E
;  E F
}!! 
)!! 
."" 

Annotation"" 
("" 
$str"" +
,""+ ,
$str""- 6
)""6 7
;""7 8
}## 	
	protected&& 
override&& 
void&& 
Down&&  $
(&&$ %
MigrationBuilder&&% 5
migrationBuilder&&6 F
)&&F G
{'' 	
migrationBuilder(( 
.(( 
	DropTable(( &
(((& '
name)) 
:)) 
$str)) 
)))  
;))  !
}** 	
}++ 
},, ß
>D:\Programfiles\Dotnet\demoMS\trainee\Models\TraineeContext.cs
	namespace 	
trainee
 
. 
Models 
; 
public 
class	 
TraineeContext 
: 
	DbContext  )
{ 
public 
TraineeContext 
( 
DbContextOptions -
<- .
TraineeContext. <
>< =
options> E
)E F
: 
base 
( 
options 
) 
{ 
}		 
public 
DbSet 
< 
TraineeModel  
>  !
trainee" )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
=8 9
null: >
!> ?
;? @
} ¤

<D:\Programfiles\Dotnet\demoMS\trainee\Models\TraineeModel.cs
	namespace 

trainee 
. 
Models 
; 
public 
class 
TraineeModel 
{ 
[ 
Key 
] 
public 
string 
? 

Employeeid  
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
EmployeeName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
null2 6
!6 7
;7 8
public		 
decimal		 
EmployeeSalary		 $
{		% &
get		' *
;		* +
set		, /
;		/ 0
}		1 2
public

 
string

 
EmployeeDesignation

 (
{

) *
get

+ .
;

. /
set

0 3
;

3 4
}

5 6
=

7 8
null

9 =
!

= >
;

> ?
public 
string 
EmployeeFathername '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
null8 <
!< =
;= >
} ÿ
0D:\Programfiles\Dotnet\demoMS\trainee\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder

 
.

 
Services

 
.

 
AddDbContext

 
<

 
TraineeContext

 ,
>

, -
(

- .
options

. 5
=>

6 8
options 
. 
UseMySql 
( 
builder 
. 
Configuration *
.* +
GetConnectionString+ >
(> ?
$str? P
)P Q
,Q R
new 
MySqlServerVersion 
( 
new 
Version &
(& '
)' (
)( )
,) *
mysqlOptions 
=> 
{ 
mysqlOptions 
.  
EnableRetryOnFailure )
() *
maxRetryCount 
: 
$num 
, 
maxRetryDelay 
: 
TimeSpan #
.# $
FromSeconds$ /
(/ 0
$num0 2
)2 3
,3 4
errorNumbersToAdd 
: 
null #
)# $
;$ %
} 
) 
) 
; 
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 	
options 
. 
	AddPolicy 
( 
$str -
,- .
builder/ 6
=>7 9
{ 
builder 
. 
WithOrigins #
(# $
$str$ ;
); <
. 
AllowAnyHeader &
(& '
)' (
. 
AllowAnyMethod &
(& '
)' (
;( )
} 
) 
; 
}   	
)  	 

;  
 
var$$ 
app$$ 
=$$ 	
builder$$
 
.$$ 
Build$$ 
($$ 
)$$ 
;$$ 
if&& 
(&& 
app&& 
.&& 
Environment&& 
.&& 
IsDevelopment&& !
(&&! "
)&&" #
)&&# $
{'' 
app(( 
.(( 

UseSwagger(( 
((( 
)(( 
;(( 
app)) 
.)) 
UseSwaggerUI)) 
()) 
))) 
;)) 
}** 
app,, 
.,, 
UseHttpsRedirection,, 
(,, 
),, 
;,, 
app-- 
.-- 
UseCors-- 
(-- 
$str-- 
)-- 
;-- 
app// 
.// 
UseAuthorization// 
(// 
)// 
;// 
app11 
.11 
MapControllers11 
(11 
)11 
;11 
app33 
.33 
Run33 
(33 
)33 	
;33	 
Þ
0D:\Programfiles\Dotnet\demoMS\trainee\Startup.cs
	namespace 	
trainee
 
{		 
public

 

class

 
Startup

 
{ 
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddCors 
( 
options $
=>% '
{ 
options 
. 
	AddPolicy !
(! "
$str" 1
,1 2
builder3 :
=>; =
{ 
builder 
. 
WithOrigins '
(' (
$str( ?
)? @
. 
AllowAnyHeader *
(* +
)+ ,
. 
AllowAnyMethod *
(* +
)+ ,
;, -
} 
) 
; 
} 
) 
; 
services 
. 
	AddOcelot 
( 
Configuration ,
), -
;- .
}   	
public"" 
void"" 
	Configure"" 
("" 
IApplicationBuilder"" 1
app""2 5
,""5 6
IWebHostEnvironment""7 J
env""K N
)""N O
{## 	
app$$ 
.$$ 
UseCors$$ 
($$ 
$str$$ '
)$$' (
;$$( )
app&& 
.&& 

UseRouting&& 
(&& 
)&& 
;&& 
app'' 
.'' 
UseEndpoints'' 
('' 
	endpoints'' &
=>''' )
	endpoints''* 3
.''3 4
MapControllers''4 B
(''B C
)''C D
)''D E
;''E F
app)) 
.)) 
	UseOcelot)) 
()) 
))) 
.)) 
Wait))  
())  !
)))! "
;))" #
}** 	
}++ 
},, 